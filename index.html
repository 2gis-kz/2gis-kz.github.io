<!DOCTYPE html>
<html>
<head>
    <title>Security Demo - Data Collection</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .card {
            background: #f5f5f5;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        button {
            background: #4285f4;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
        }
        #output {
            background: #eee;
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
        }
        .disclaimer {
            background: #fff8e1;
            padding: 15px;
            border-left: 4px solid #ffc107;
        }
    </style>
</head>
<body>
    <h1>Web Security Demo</h1>
    <p>This demo shows what data websites can collect (with your consent).</p>

    <div class="card">
        <h2>Data Collection</h2>
        <button onclick="collectData()">Collect & Store My Data</button>
        <div id="output">Click the button above to start.</div>
    </div>

    <div class="disclaimer">
        <strong>⚠️ Disclaimer:</strong> This is for educational purposes only. 
        You're seeing real data collection, but it's stored anonymously.
    </div>

    <script>
        async function collectData() {
            const output = document.getElementById('output');
            output.innerHTML = "Collecting data...";

            // Get user data
            const ip = await fetch('https://api.ipify.org?format=json')
                .then(res => res.json())
                .then(data => data.ip)
                .catch(() => "Unknown IP");

            const userAgent = navigator.userAgent;
            const timestamp = new Date().toISOString();

            // Prepare data for Google Sheets
            const formData = {
                ip: ip,
                userAgent: userAgent,
                timestamp: timestamp,
                location: "Approximate location based on IP",
                page: window.location.href
            };

            // Send to Google Sheets
            sendToGoogleSheets(formData);
        }

        function sendToGoogleSheets(data) {
            // Replace with your Google Sheets URL from FormSubmit
            const sheetURL = "https://formsubmit.co/ajax/YOUR_GOOGLE_SHEETS_LINK";

            fetch(sheetURL, {
                method: "POST",
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => {
                document.getElementById('output').innerHTML = `
                    <strong>Data stored successfully!</strong><br><br>
                    IP: ${data.ip}<br>
                    Browser: ${data.userAgent}<br>
                    Time: ${data.timestamp}<br><br>
                    <small>(This data is now in a Google Sheet)</small>
                `;
            })
            .catch(error => {
                document.getElementById('output').innerHTML = `
                    Demo failed (no real data was sent).<br><br>
                    In a real implementation, this would store:<br>
                    IP: ${data.ip}<br>
                    Browser: ${data.userAgent}
                `;
            });
        }
    </script>
</body>
</html>
